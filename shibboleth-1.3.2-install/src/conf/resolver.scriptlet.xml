<AttributeResolver xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="urn:mace:shibboleth:resolver:1.0" xsi:schemaLocation="urn:mace:shibboleth:resolver:1.0 shibboleth-resolver-1.0.xsd">
	
	<SimpleAttributeDefinition id="urn:mace:dir:attribute-def:eduPersonEntitlement">
		<DataConnectorDependency requires="echo"/>
	</SimpleAttributeDefinition>
	
	<ScriptletAttributeDefinition id="urn:mace:dir:attribute-def:eduPersonAffiliation">
		<DataConnectorDependency requires="echo"/>
		<Scriptlet>
			Attributes attributes = dependencies.getConnectorResolution("echo");
			Attribute affiliation = attributes.get("eduPersonAffiliation");
			if (affiliation != null &amp;&amp; affiliation.size() > 0) {
				resolverAttribute.addValue(attributes.get("eduPersonAffiliation").get(0));
			}
		</Scriptlet>
	</ScriptletAttributeDefinition>
	
	<CustomDataConnector id="echo" class="edu.internet2.middleware.shibboleth.aa.attrresolv.provider.SampleConnector"/>

</AttributeResolver>
