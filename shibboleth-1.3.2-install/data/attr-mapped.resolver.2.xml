<AttributeResolver xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="urn:mace:shibboleth:resolver:1.0" xsi:schemaLocation="urn:mace:shibboleth:resolver:1.0 shibboleth-resolver-1.0.xsd">
  
  <!-- A static way to assign entitlements by role -->
  <MappedAttributeDefinition id="eduPersonEntitlement" sourceName="role"
    ignoreCase="true"
    regex="true"
    defaultValue="urn:edu:utah:wasatch:common">

    <DataConnectorDependency requires="file"/>
    <ValueMap keyset="guest, prospect[a-z ]*, friends"			value="urn:edu:utah:wasatch:public"/>
    <ValueMap keyset="alum, alumni" 					value="urn:edu:utah:wasatch:attic"/>
    <ValueMap keyset="employee"						value="urn:edu:utah:wasatch:payroll"/>
    <ValueMap keyset="faculty"						value="urn:edu:utah:wasatch:elearning"/>
    <ValueMap keyset="admin[a-z ]*, [a-z ]*admin"			value="urn:edu:utah:wasatch:imanage"/>
    <ValueMap keyset="student" 						value="urn:edu:utah:wasatch:library"/>
  </MappedAttributeDefinition>

  <CustomDataConnector id="file"
    class="edu.internet2.middleware.shibboleth.aa.attrresolv.FileConnector"
    datafile="data/attr-mapped.datafile.2"/>

</AttributeResolver>
